<nav class="navbar navbar-expand-lg">
    <ng-container *ngIf="logged$ | async as logged; else unlogged">
        <div class="container-fluid align-items-center">
            <button class="aside__user-info d-flex justify-content-center align-items-center gap-3" type="button"
                data-bs-toggle="collapse" data-bs-target="#aside" aria-expanded="false" aria-controls="aside">
                <img class="aside__img text-start" [src]="user?.photo" alt="">
                <p id="user" class="aside__user-data-text">{{user?.name}} {{user?.last_name}}</p>
            </button>

            <aside
                class="collapse show  position-absolute col d-flex flex-column justify-content-start align-items-center d-none d-lg-block m-0">
                <div id="aside" class="m-0 p-0">
                    <div class="row aside__list-container p-2">
                        <ul class="aside__list d-flex flex-column justify-content-center align-items-start p-0">
                            <li class="nav-item d-flex justify-content-start align-items-center py-2 px-4 ">
                                <i class="fa-solid fa-square-plus px-3"></i>
                                <a class="nav-link" routerLink="/books" routerLinkActive="active">Mis
                                    libros</a>
                            </li>
                            <li class="nav-item d-flex justify-content-start align-items-center py-2 px-4 ">
                                <i class="fa-solid fa-book px-3"></i>
                                <a class="nav-link" routerLink="/addBook" routerLinkActive="active">Añadir
                                    libro</a>
                            </li>
                            <hr>
                            <li
                                class="nav-item">
                                <i class="fa-solid fa-folder-plus px-3"></i>
                                <a class="nav-link disabled" routerLink="#" routerLinkActive="active" aria-disabled="true">Crear
                                    colección</a>
                            </li>
                            <li
                                class="nav-item">
                                <i class="fa-solid fa-layer-group px-3"></i>
                                <a class="nav-link disabled" routerLink="#" routerLinkActive="active" aria-disabled="true">Gestionar
                                    colecciones</a>
                            </li>
                            <li
                                class="nav-item">
                                <i class="fa-solid fa-file-export px-3"></i>
                                <a class="nav-link disabled" routerLink="#" routerLinkActive="active" aria-disabled="true">Exportar
                                    colecciones</a>
                            </li>
                            <hr>
                            <li
                                class="nav-item">
                                <i class="fa-solid fa-comments px-3"></i>
                                <a class="nav-link disabled" routerLink="#" routerLinkActive="active" aria-disabled="true">Mensajes</a>
                            </li>
                            <li
                                class="nav-item">
                                <i class="fa-solid fa-user-group px-3"></i>
                                <a class="nav-link disabled" routerLink="#" routerLinkActive="active" aria-disabled="true">Amigos</a>
                            </li>
                            <hr>
                            <li class="nav-item d-flex justify-content-start align-items-center py-2 px-4">
                                <i class="fa-solid fa-layer-group px-3"></i>
                                <a class="nav-link" routerLink="/profile" routerLinkActive="profile">
                                    Mi cuenta</a>
                            </li>
                            <li
                                class="nav-item">
                                <i class="fa-solid fa-circle-user px-3"></i>
                                <a class="nav-link" routerLink="/login" (click)="logOut(false)">
                                    Cerrar sesión
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </aside>
            <!-- vista movil -->
            <div class="collapse navbar-collapse justify-content-end" id="aside">
                <ul class="navbar-nav loggedMenu">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Libros
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="nav-link" routerLink="/books" routerLinkActive="active">Mis
                                    libros</a>
                            </li>
                            <li>
                                <a class="nav-link" routerLink="/addBook" routerLinkActive="active">Nuevo
                                    libro</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Colecciones
                        </a>
                        <ul class="dropdown-menu ">
                            <li>
                                <a class="nav-link disabled" routerLink="/#" routerLinkActive="active">Mis
                                    Colecciones</a>
                            </li>
                            <li>
                                <a class="nav-link disabled" routerLink="/#" routerLinkActive="active">Nueva
                                    colección</a>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Social
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="nav-link disabled" routerLink="/#"
                                    routerLinkActive="active">Notificaciones</a>
                            </li>
                            <li>
                                <a class="nav-link disabled" routerLink="/#" routerLinkActive="active">Amigos</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            {{ (user$ | async)?.name }}
                            <i class="fa-solid fa-circle-user px-2"></i>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a class="nav-link" routerLink="/profile" routerLinkActive="active">Administrar
                                    Perfil</a>
                            </li>
                            <li>
                                <a class="nav-link" routerLink="/login" (click)="logOut(false)">
                                    Cerrar sesión
                                    <i class="fa-solid fa-arrow-right-from-bracket cta__icon"></i>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </ng-container>
    <ng-template #unlogged>
        <div class="container align-items-center">
            <a class="navbar-brand" href="#">
                <img src="../../../assets/img/myBooks_logo.png" alt="logo" width="156" height="100" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Escritorio -->
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav d-none d-lg-flex">
                    <li class="nav-item">
                        <a class="cta --bg-yellow" routerLink="/register" routerLinkActive="active">Regístrate</a>
                    </li>
                    <li class="nav-item">
                        <a class="cta" routerLink="/login" routerLinkActive="active">
                            Iniciar sesión
                            <i class="fa-solid fa-arrow-right-to-bracket cta__icon"></i>
                        </a>
                    </li>
                </ul>

                <!-- Móviles y tablets -->
                <ul class="navbar-nav d-block d-md-block d-lg-none justify-content-center">
                    <li class="nav-item text-center">
                        <a class="nav-link" routerLink="/register" routerLinkActive="active">Regístrate</a>
                    </li>
                    <li class="nav-item text-center">
                        <a class="nav-link" routerLink="/login" routerLinkActive="active">
                            Iniciar sesión

                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </ng-template>
</nav>